# Quick start with Rust

This guide will walk you through the steps to set up and start using the `dydx` crate in your Rust project. Whether you're building a trading bot, analyzing market data, or just exploring decentralized exchanges, dydx provides a powerful and intuitive API to interact with the dYdX protocol.

Below you will create a Rust application and connect it to an exchange, just follow the steps.

::::steps


## Creating a New Rust Project

Let's start our journey by creating a fresh Rust project. The Cargo tool makes this process straightforward and sets up all the necessary files for you:

```bash [cargo]
cargo new --bin dydx-bot
```

Once executed, you'll see a new directory structure with a basic `main.rs` file and a `Cargo.toml` configuration file. This is your blank canvas for building something amazing!

## Adding the `dydx` Dependency

Now that we have our project skeleton, let's add the `dydx` crate to our toolkit. Open your `Cargo.toml` file and add the dependency:

```toml [Cargo.toml]
[dependencies]
dydx = "0.2.0"  # Replace with the latest version // [!code ++]
```

This tells Cargo to fetch and compile the `dydx` crate the next time you build your project. The Rust package manager will handle all the dependencies automatically, saving you from dependency headaches.

:::tip
The crate being used fully supports `async` and can be used together with the [tokio](https://tokio.rs) asynchronous runtime.
:::

You can also use the `cargo add` command if you have [cargo-edit](https://github.com/killercup/cargo-edit) installed, which will immediately add the most current version of the crate:

```bash [cargo]
cargo add dydx
```

:::note
The project also includes the `anyhow` crate for convenient error handling and the `tokio` async runtime.
:::

## Creating a Configuration File

The client library works with a configuration file that allows you to manage various client parameters. Let's define the configuration file that our program will use.

For example, you can create a configuration file for accessing the main network *(mainnet)* or for tests oriented towards the test network *(testnet)*.

:::code-group

```toml [mainnet.toml]
[node]
endpoint = "https://dydx-ops-grpc.kingnodes.com:443"
chain_id = "dydx-mainnet-1"
fee_denom = "ibc/8E27BA2D5493AF5636760E354E46004562C46AB7EC0CC4C1CA14E9E20E2545B5"

[indexer]
http.endpoint = "https://indexer.dydx.trade"
ws.endpoint = "wss://indexer.dydx.trade/v4/ws"

[noble] # optional
endpoint = "http://noble-grpc.polkachu.com:21590"
chain_id = "noble-1"
fee_denom = "uusdc"
```

```toml [testnet.toml]
[node]
endpoint = "https://test-dydx-grpc.kingnodes.com"
chain_id = "dydx-testnet-4"
fee_denom = "ibc/8E27BA2D5493AF5636760E354E46004562C46AB7EC0CC4C1CA14E9E20E2545B5"

[indexer]
http.endpoint = "https://indexer.v4testnet.dydx.exchange"
ws.endpoint = "wss://indexer.v4testnet.dydx.exchange/v4/ws"

[noble] # optional
endpoint = "http://noble-testnet-grpc.polkachu.com:21590"
chain_id = "grand-1"
fee_denom = "uusdc"

[faucet] # optional
endpoint = "https://faucet.v4testnet.dydx.exchange"
```

:::

:::warning
The endpoints presented above are chosen randomly and are not a recommendation. You can find a complete list of available API endpoints at the [Endpoints](/endpoints) section.
:::






## Basic Setup and Authentication


### Reading Configuration

The configuration can be loaded from a TOML file using the `from_file` method provided by the `ClientConfig` struct. This allows you to separate your environment-specific settings from your code.

```rust [main.rs]
let config = ClientConfig::from_file("dydx.toml").await?;
```

### Creating a Node Client

A `NodeClient` is needed to send transactions to the blockchain. It establishes a connection to a dYdX node and enables operations like placing orders, managing positions, and other on-chain activities.

```rust [main.rs]
let mut client = NodeClient::connect(config.node).await?;
```

### Creating an Indexer Client

An `IndexerClient` is used to retrieve trading data such as market prices, order book information, and historical trades. It connects to the dYdX indexer service which provides read-only access to trading information.

```rust [main.rs]
let indexer = IndexerClient::new(config.indexer);
```

## Fetching Market Data

Text

## Setting Up a Wallet (for On-Chain Operations)

Text

## Placing an Order

Text

## Error Handling

Text

## Handling Websocket Connections

Text

## Building and Running

Text

## Next Steps

Text

::::
