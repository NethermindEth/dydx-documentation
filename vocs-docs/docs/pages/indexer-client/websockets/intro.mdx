# WebSockets API

The WebSockets API provides data feeds providing the trader real-time information.

See the [guide](/interaction/data/feeds) for examples on how to use the WebSockets API.

## Common schemas

Interactions with the WebSockets endpoint is done using common base JSON schemas for all feed types.
To use specific feeds, see the following subsections.

### Subscribe

Use the following schema to subscribe to a feed.

#### JSON Schema

| Parameter           | Type               | Description                                                           |
| ------------------- | ------------------ | --------------------------------------------------------------------- |
| `type`              | string             | Message type (`subscribe`).                                           |
| `channel`           | string             | Feed type identifier.                                                 |
| `id`                | string             | Selector for channel-specific data. Only used in some channels.       |
| `batched`           | bool               | Reduce incoming messages by batching contents.                        |

:::details[Example]
```tsx
{ 
    "type": "subscribe", 
    "channel": "v4_trades",
    "id": "BTC-USD",
    "batched": false
}
```
:::

#### Response

| Parameter           | Type               | Description                                                           |
| ------------------- | ------------------ | --------------------------------------------------------------------- |
| `type`              | string             | Message type (`connected`).                                           |
| `connection_id`     | string             | String identifying the subscription.                                  |
| `message_id`        | int                | Message sequence number sent on the subscription.                     |

### Unsubscribe

Use the following schema to unsubscribe from a feed.
Similar scheme to the `subscribe` schema, however with the `unsubscribe` type, and without the `batched` field.

#### JSON Schema

| Parameter           | Location | Type               | Description                                                           |
| ------------------- | -------- | ------------------ | --------------------------------------------------------------------- |
| `type`              | query    | string             | Message type (`unsubscribe`).                                         |
| `channel`           | query    | string             | Feed type identifier.                                                 |
| `id`                | query    | string             | Selector for channel-specific data.                                   |

:::details[Example]
```tsx
{
    "type": "unsubscribe",
    "channel": "v4_trades",
    "id": "BTC-USD"
}
```
:::

#### Response

| Parameter           | Type               | Description                                                           |
| ------------------- | ------------------ | --------------------------------------------------------------------- |
| `type`              | string             | Message type (`unsubscribed`).                                        |
| `connection_id`     | string             | String identifying the subscription.                                  |
| `channel`           | string             | Feed type identifier.                                                 |
| `message_id`        | int                | Message sequence number sent on the subscription.                     |
| `id`                | string             | Selector for channel-specific data. Only used in some channels.       |

## Feeds
